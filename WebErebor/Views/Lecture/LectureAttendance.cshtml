@using BuisnessLogic.Models
@model List<Attendance>;
@{
    ViewData["Title"] = "Home Page";
}


<div class="text-center">
    @using (Html.BeginForm("AttendanceCreate", "Lecture", FormMethod.Post))
    {
        
    
    <h1 class="display-4">Посещения</h1>
    <table class="table mt-4">
        <thead class="thead-dark  text-light">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Студент</th>
                <th scope="col">Присутствие</th>
                <th scope="col">Оценка</th>

            </tr>
        </thead>
        <tbody>
            @foreach(var st in ViewBag.Students as List<Student>){
            var attendance = Model.FirstOrDefault(a => a.Student.Id == st.Id) == null ? false : Model.FirstOrDefault(a => a.Student.Id == st.Id).Attended;
            <tr>
            <th scope="row">@st.Id</th>
            <td>@st.Name</td>
            <td>@Html.CheckBoxFor(att => att.First(a => a.Student.Id == st.Id).Attended , new { @checked = attendance})  </td>
            <td>@Html.TextBoxFor(att => att.First(a => a.Student.Id == st.Id).Grade, new { @class = "form-control", @required  = "required" })<td>

            </tr>
            }
      
        </tbody>
    </table>

    <div class="band-list text-light">
    <button type="submit" class="btn btn btn-outline-primary">Сохранить</button>
    </div>

    }
</div>
